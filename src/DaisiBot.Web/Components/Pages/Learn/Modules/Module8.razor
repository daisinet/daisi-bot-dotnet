@page "/learn/next-steps"
@layout DaisiBot.Web.Components.Pages.Learn.LearnLayout

<h1 class="font-accent mb-4">Module 8 &middot; <span class="text-accent">Next Steps &amp; Roadmap</span></h1>

<div class="glass-card mb-4">
    <h4 class="font-accent">You Made It</h4>
    <p class="mb-0">
        You now understand DaisiBot's architecture, can configure host and network modes,
        hold multi-level conversations, install and create skills, deploy autonomous bots,
        and lock everything down securely. This final module looks at where to go from here
        and which features would have the highest impact next.
    </p>
</div>

<h3 class="font-accent mb-3">Recommended Next-Step Features</h3>

<p>
    The following features are ordered by estimated impact &mdash; highest first.
    Each item explains <em>what</em> it is, <em>why</em> it matters, and
    <em>where</em> it would fit in the existing architecture.
</p>

<div class="glass-card mb-4" style="border-color: rgba(247,140,29,0.5);">
    <div class="d-flex align-items-start gap-3">
        <span class="badge bg-primary px-3 py-2 fs-6">1</span>
        <div>
            <h5 class="font-accent text-accent mb-1">Conversation Memory &amp; RAG</h5>
            <p class="text-muted mb-2"><strong>What:</strong> Persistent, cross-conversation memory that the agent can retrieve when relevant. Combine with Retrieval-Augmented Generation (RAG) to let the agent search over your notes, documents, or past conversations.</p>
            <p class="text-muted mb-2"><strong>Why:</strong> Today each conversation is isolated. Memory bridges that gap &mdash; the agent remembers your preferences, project context, and past decisions without you re-explaining every time.</p>
            <p class="text-muted mb-0"><strong>Where:</strong> New <code>IMemoryService</code> interface in Core, SQLite vector store (or external like Qdrant) in Data, memory retrieval step injected into <code>SkillPromptBuilder</code> before each request.</p>
        </div>
    </div>
</div>

<div class="glass-card mb-4" style="border-color: rgba(247,140,29,0.5);">
    <div class="d-flex align-items-start gap-3">
        <span class="badge bg-primary px-3 py-2 fs-6">2</span>
        <div>
            <h5 class="font-accent text-accent mb-1">Multi-User &amp; Team Workspaces</h5>
            <p class="text-muted mb-2"><strong>What:</strong> Multiple users on the same DaisiBot.Web instance with shared and private conversations, role-based access control, and team skill libraries.</p>
            <p class="text-muted mb-2"><strong>Why:</strong> Right now the Web app is single-tenant. Teams need shared context &mdash; a design team could share a "Brand Voice" skill while each member keeps private conversations.</p>
            <p class="text-muted mb-0"><strong>Where:</strong> Extend <code>AuthState</code> with roles/teams, add a <code>Workspace</code> model to Core, scope conversations and skills to workspace + user.</p>
        </div>
    </div>
</div>

<div class="glass-card mb-4" style="border-color: rgba(247,140,29,0.5);">
    <div class="d-flex align-items-start gap-3">
        <span class="badge bg-primary px-3 py-2 fs-6">3</span>
        <div>
            <h5 class="font-accent text-accent mb-1">Skill Chaining &amp; Workflows</h5>
            <p class="text-muted mb-2"><strong>What:</strong> Allow skills to be composed into multi-step workflows where the output of one skill feeds into the next. A visual workflow builder in the Web app.</p>
            <p class="text-muted mb-2"><strong>Why:</strong> Individual skills are powerful but isolated. Chaining them turns DaisiBot into a full automation platform &mdash; e.g., "Research topic" &rarr; "Draft article" &rarr; "Generate social posts."</p>
            <p class="text-muted mb-0"><strong>Where:</strong> New <code>Workflow</code> model in Core with ordered skill references, a <code>WorkflowEngine</code> in Agent that extends BotEngine, and a drag-and-drop editor page in Web.</p>
        </div>
    </div>
</div>

<div class="glass-card mb-4" style="border-color: rgba(247,140,29,0.5);">
    <div class="d-flex align-items-start gap-3">
        <span class="badge bg-primary px-3 py-2 fs-6">4</span>
        <div>
            <h5 class="font-accent text-accent mb-1">Real-Time Collaboration</h5>
            <p class="text-muted mb-2"><strong>What:</strong> Multiple users in the same conversation simultaneously, with live-typing indicators and shared context.</p>
            <p class="text-muted mb-2"><strong>Why:</strong> Pair-programming with an AI works best when both team members see the same thread. Real-time collab eliminates copy-pasting between sessions.</p>
            <p class="text-muted mb-0"><strong>Where:</strong> SignalR hub in DaisiBot.Web for presence and message broadcast, optimistic concurrency on the conversation store.</p>
        </div>
    </div>
</div>

<div class="glass-card mb-4" style="border-color: rgba(247,140,29,0.5);">
    <div class="d-flex align-items-start gap-3">
        <span class="badge bg-primary px-3 py-2 fs-6">5</span>
        <div>
            <h5 class="font-accent text-accent mb-1">Multimodal Input &amp; Output</h5>
            <p class="text-muted mb-2"><strong>What:</strong> Image, audio, and document upload in conversations. Vision model support for image analysis. Voice input/output for hands-free use.</p>
            <p class="text-muted mb-2"><strong>Why:</strong> The ChatMessage model already has Image and Audio types, but they aren't fully wired. Multimodal input dramatically expands use cases &mdash; screenshot analysis, document summarization, voice memos.</p>
            <p class="text-muted mb-0"><strong>Where:</strong> File upload in Shared.UI ChatInput, multimodal model routing in Agent, <code>IsMultiModal</code> flag on AvailableModel already exists for gating.</p>
        </div>
    </div>
</div>

<div class="glass-card mb-4" style="border-color: rgba(247,140,29,0.5);">
    <div class="d-flex align-items-start gap-3">
        <span class="badge bg-primary px-3 py-2 fs-6">6</span>
        <div>
            <h5 class="font-accent text-accent mb-1">Bot Dashboard &amp; Analytics</h5>
            <p class="text-muted mb-2"><strong>What:</strong> A dedicated Web page showing all bots with run history charts, success/failure rates, token usage over time, and alerting for stuck bots.</p>
            <p class="text-muted mb-2"><strong>Why:</strong> The TUI shows bot status but there is no aggregate view. As users create more bots, they need a management dashboard to spot problems before they accumulate.</p>
            <p class="text-muted mb-0"><strong>Where:</strong> New <code>/bots</code> page in DaisiBot.Web, query BotLogEntry aggregates from SQLite/Cosmos, MudBlazor charts for visualization.</p>
        </div>
    </div>
</div>

<div class="glass-card mb-4" style="border-color: rgba(247,140,29,0.5);">
    <div class="d-flex align-items-start gap-3">
        <span class="badge bg-primary px-3 py-2 fs-6">7</span>
        <div>
            <h5 class="font-accent text-accent mb-1">Plugin / Extension API</h5>
            <p class="text-muted mb-2"><strong>What:</strong> A public API that lets external developers write custom tool groups, skill loaders, or inference backends without forking the repo.</p>
            <p class="text-muted mb-2"><strong>Why:</strong> The current tool group set is fixed at eight. A plugin API would let the community extend DaisiBot with integrations (Jira, GitHub, Slack, databases) without waiting for core changes.</p>
            <p class="text-muted mb-0"><strong>Where:</strong> Define an <code>IToolGroupPlugin</code> interface in Core, use .NET assembly loading or a gRPC sidecar pattern in Agent, add a plugin management page in Web.</p>
        </div>
    </div>
</div>

<div class="glass-card mb-4" style="border-color: rgba(247,140,29,0.5);">
    <div class="d-flex align-items-start gap-3">
        <span class="badge bg-primary px-3 py-2 fs-6">8</span>
        <div>
            <h5 class="font-accent text-accent mb-1">Conversation Branching &amp; Forking</h5>
            <p class="text-muted mb-2"><strong>What:</strong> Fork a conversation at any message to explore an alternate path without losing the original thread. Visualize branches as a tree.</p>
            <p class="text-muted mb-2"><strong>Why:</strong> Users often want to try a different prompt or approach mid-conversation. Today they have to start a new conversation and re-establish context. Branching preserves the full history.</p>
            <p class="text-muted mb-0"><strong>Where:</strong> Add <code>ParentConversationId</code> and <code>ForkAtMessageId</code> to the Conversation model, tree rendering in Shared.UI.</p>
        </div>
    </div>
</div>

<div class="glass-card mb-4" style="border-color: rgba(247,140,29,0.5);">
    <div class="d-flex align-items-start gap-3">
        <span class="badge bg-primary px-3 py-2 fs-6">9</span>
        <div>
            <h5 class="font-accent text-accent mb-1">Offline Mode &amp; Sync</h5>
            <p class="text-muted mb-2"><strong>What:</strong> Full offline support for Host Mode users with background sync when connectivity returns. Conversations, skills, and bot results sync across devices.</p>
            <p class="text-muted mb-2"><strong>Why:</strong> Host Mode already works offline for inference, but skill installs, bot scheduling, and multi-device use require connectivity. True offline-first makes DaisiBot resilient.</p>
            <p class="text-muted mb-0"><strong>Where:</strong> CRDTs or operational transforms on the conversation store, a sync protocol between SQLite (local) and Cosmos DB (cloud).</p>
        </div>
    </div>
</div>

<div class="glass-card mb-4" style="border-color: rgba(247,140,29,0.5);">
    <div class="d-flex align-items-start gap-3">
        <span class="badge bg-primary px-3 py-2 fs-6">10</span>
        <div>
            <h5 class="font-accent text-accent mb-1">Skill Versioning &amp; Rollback</h5>
            <p class="text-muted mb-2"><strong>What:</strong> Maintain a full version history for each skill with one-click rollback to any previous version.</p>
            <p class="text-muted mb-2"><strong>Why:</strong> Skills already have a Version field but there is no history. A bad update to a popular skill currently has no undo &mdash; version history protects both authors and users.</p>
            <p class="text-muted mb-0"><strong>Where:</strong> <code>SkillVersion</code> entity in Core linked to Skill by Id, Cosmos DB partition per skill for version documents, rollback action in SkillEditor.</p>
        </div>
    </div>
</div>

<h3 class="font-accent mt-5 mb-3">Summary Priority Matrix</h3>

<div class="glass-card mb-4">
    <table class="table table-dark table-bordered mb-0">
        <thead>
            <tr><th>Priority</th><th>Feature</th><th>Effort</th><th>Impact</th></tr>
        </thead>
        <tbody>
            <tr><td class="text-accent">1</td><td>Conversation Memory &amp; RAG</td><td>Medium</td><td>Very High</td></tr>
            <tr><td class="text-accent">2</td><td>Multi-User &amp; Team Workspaces</td><td>High</td><td>Very High</td></tr>
            <tr><td class="text-accent">3</td><td>Skill Chaining &amp; Workflows</td><td>High</td><td>High</td></tr>
            <tr><td class="text-accent">4</td><td>Real-Time Collaboration</td><td>Medium</td><td>High</td></tr>
            <tr><td class="text-accent">5</td><td>Multimodal Input &amp; Output</td><td>Medium</td><td>High</td></tr>
            <tr><td class="text-accent">6</td><td>Bot Dashboard &amp; Analytics</td><td>Low</td><td>Medium</td></tr>
            <tr><td class="text-accent">7</td><td>Plugin / Extension API</td><td>High</td><td>High</td></tr>
            <tr><td class="text-accent">8</td><td>Conversation Branching</td><td>Medium</td><td>Medium</td></tr>
            <tr><td class="text-accent">9</td><td>Offline Mode &amp; Sync</td><td>Very High</td><td>Medium</td></tr>
            <tr><td class="text-accent">10</td><td>Skill Versioning &amp; Rollback</td><td>Low</td><td>Medium</td></tr>
        </tbody>
    </table>
</div>

<div class="glass-card mb-4">
    <h4 class="font-accent">Quick Wins (Start Here)</h4>
    <p class="mb-0">
        If you're looking for immediate impact with low effort, start with
        <strong>Bot Dashboard &amp; Analytics</strong> (the data already exists in BotLogEntry)
        and <strong>Skill Versioning &amp; Rollback</strong> (the Version field already exists).
        For medium effort with transformative impact, <strong>Conversation Memory &amp; RAG</strong>
        is the single highest-value feature &mdash; it makes every other feature better because
        the agent remembers context across sessions.
    </p>
</div>

<div class="glass-card recall-checkpoint">
    <h4 class="font-accent">Active Recall Checkpoint</h4>
    <p>Cover the answers and test yourself before peeking.</p>

    <div class="recall-question">
        <p><strong>1.</strong> Why is Conversation Memory &amp; RAG ranked as the highest-impact feature?</p>
        <details><summary class="text-accent">Reveal answer</summary>
            <p class="mt-2">It bridges isolated conversations so the agent remembers preferences, project context, and past decisions without re-explanation. This makes every other feature more effective.</p>
        </details>
    </div>

    <div class="recall-question">
        <p><strong>2.</strong> Where in the architecture would a Plugin API be defined?</p>
        <details><summary class="text-accent">Reveal answer</summary>
            <p class="mt-2">An <code>IToolGroupPlugin</code> interface in DaisiBot.Core, with assembly loading or gRPC sidecar in DaisiBot.Agent, and a management page in DaisiBot.Web.</p>
        </details>
    </div>

    <div class="recall-question">
        <p><strong>3.</strong> What two features qualify as "quick wins" (low effort, existing data)?</p>
        <details><summary class="text-accent">Reveal answer</summary>
            <p class="mt-2">Bot Dashboard &amp; Analytics (BotLogEntry data already exists) and Skill Versioning &amp; Rollback (Version field already exists).</p>
        </details>
    </div>
</div>

<div class="d-flex justify-content-between mt-4">
    <a href="/learn/security" class="btn btn-outline-light">&larr; Module 7</a>
    <a href="/learn" class="btn btn-accent">Back to Course Home</a>
</div>
