@page "/learn/installation"
@layout DaisiBot.Web.Components.Pages.Learn.LearnLayout

<h1 class="font-accent mb-4">Module 2 &middot; <span class="text-accent">Prerequisites &amp; Installation</span></h1>

<div class="glass-card mb-4">
    <h4 class="font-accent">Before You Begin</h4>
    <p>
        DaisiBot is built on .NET 10 and runs on Windows, macOS, Linux, iOS, and Android.
        Make sure the following are in place before you start.
    </p>

    <table class="table table-dark table-bordered">
        <thead>
            <tr><th>Prerequisite</th><th>Details</th></tr>
        </thead>
        <tbody>
            <tr>
                <td class="text-accent fw-bold">.NET 10 SDK</td>
                <td>Required for building from source. Download from <code>dotnet.microsoft.com</code>.</td>
            </tr>
            <tr>
                <td class="text-accent fw-bold">Git</td>
                <td>To clone the repository.</td>
            </tr>
            <tr>
                <td class="text-accent fw-bold">Hardware (Host Mode)</td>
                <td>At least 8 GB RAM recommended. A GPU with CUDA or Vulkan support speeds up local inference significantly but is not required.</td>
            </tr>
            <tr>
                <td class="text-accent fw-bold">DAISI Account (optional)</td>
                <td>Needed for DaisiNet mode and the Skill Marketplace. You can use Host Mode without one.</td>
            </tr>
        </tbody>
    </table>
</div>

<div class="glass-card mb-4">
    <h4 class="font-accent">Clone &amp; Build</h4>
    <p>Pull the repository and build the client you want to run:</p>

    <div class="code"><pre>
# Clone the repository
git clone https://github.com/distributed-ai-systems/daisi-bot-dotnet.git
cd daisi-bot-dotnet

# Build all projects
dotnet build

# --- Or run a specific client ---

# Terminal UI
dotnet run --project src/DaisiBot.Tui

# Web (Skill Marketplace)
dotnet run --project src/DaisiBot.Web

# MAUI (Desktop / Mobile)
dotnet run --project src/DaisiBot.Maui</pre></div>

    <p class="mt-3 mb-0">
        The solution file <code>DaisiBot.slnx</code> also opens in Visual Studio 2026+
        if you prefer an IDE.
    </p>
</div>

<div class="glass-card mb-4">
    <h4 class="font-accent">What Happens on First Launch</h4>
    <p>The first time any client starts, several things happen automatically:</p>
    <ol>
        <li>
            <strong>Database creation</strong> &ndash; A SQLite database is created at
            <code>%LocalAppData%\DaisiBot\daisibot.db</code> (Windows) or
            <code>~/.local/share/DaisiBot/daisibot.db</code> (macOS / Linux).
            EF Core migrations run automatically.
        </li>
        <li>
            <strong>Default settings</strong> &ndash; A singleton <code>UserSettings</code> row
            (ID&nbsp;=&nbsp;1) is inserted with sensible defaults: Host Mode enabled,
            Basic think level, temperature&nbsp;0.7, context size&nbsp;2048.
        </li>
        <li>
            <strong>Model download prompt</strong> &ndash; Because Host Mode is on by default,
            DaisiBot queries the ORC for required models, compares with local files, and
            shows a download dialog for any that are missing. You can skip this and switch
            to DaisiNet mode instead.
        </li>
    </ol>
</div>

<div class="glass-card mb-4">
    <h4 class="font-accent">Choosing Your Client</h4>
    <div class="row g-3 mt-1">
        <div class="col-md-4">
            <div class="glass-card h-100 text-center" style="border-color: rgba(247,140,29,0.3);">
                <h5 class="font-accent text-accent">TUI</h5>
                <p class="text-muted mb-0">
                    Best for power users who live in the terminal.
                    Keyboard-driven, slash commands, 60&nbsp;Hz render loop, minimal resource usage.
                </p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="glass-card h-100 text-center" style="border-color: rgba(247,140,29,0.3);">
                <h5 class="font-accent text-accent">MAUI</h5>
                <p class="text-muted mb-0">
                    Best for a native desktop or mobile experience.
                    MudBlazor UI, model downloads on first render, cross-platform.
                </p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="glass-card h-100 text-center" style="border-color: rgba(247,140,29,0.3);">
                <h5 class="font-accent text-accent">Web</h5>
                <p class="text-muted mb-0">
                    Best for the Skill Marketplace &mdash; browse, publish, and install skills
                    from a browser. Requires an ASP.NET server.
                </p>
            </div>
        </div>
    </div>
</div>

<div class="glass-card mb-4">
    <h4 class="font-accent">Verify Your Setup</h4>
    <p>After first launch, confirm these checkpoints:</p>
    <ul class="mb-0">
        <li>The SQLite database file exists at the expected path.</li>
        <li>The TUI shows a status bar with function-key shortcuts (F3:Model, F4:Settings, F5:Login, F6:Skills, F10:Quit).</li>
        <li>If using Host Mode, at least one GGUF model has been downloaded or you were shown the download dialog.</li>
        <li>If using DaisiNet, the ORC connection settings point to a reachable orchestrator.</li>
    </ul>
</div>

<div class="glass-card recall-checkpoint">
    <h4 class="font-accent">Active Recall Checkpoint</h4>
    <p>Cover the answers and test yourself before peeking.</p>

    <div class="recall-question">
        <p><strong>1.</strong> What runtime does DaisiBot require?</p>
        <details><summary class="text-accent">Reveal answer</summary>
            <p class="mt-2">.NET 10 SDK.</p>
        </details>
    </div>

    <div class="recall-question">
        <p><strong>2.</strong> Where is the SQLite database created on Windows?</p>
        <details><summary class="text-accent">Reveal answer</summary>
            <p class="mt-2"><code>%LocalAppData%\DaisiBot\daisibot.db</code></p>
        </details>
    </div>

    <div class="recall-question">
        <p><strong>3.</strong> What happens automatically on first launch when Host Mode is enabled?</p>
        <details><summary class="text-accent">Reveal answer</summary>
            <p class="mt-2">DaisiBot queries the ORC for required models, compares with local files, and prompts to download any missing GGUF models.</p>
        </details>
    </div>

    <div class="recall-question">
        <p><strong>4.</strong> Which client is best if you only want the Skill Marketplace?</p>
        <details><summary class="text-accent">Reveal answer</summary>
            <p class="mt-2">The Web client (DaisiBot.Web) &mdash; it's the Blazor Server app with marketplace features.</p>
        </details>
    </div>
</div>

<div class="d-flex justify-content-between mt-4">
    <a href="/learn/architecture" class="btn btn-outline-light">&larr; Module 1</a>
    <a href="/learn/configuration" class="btn btn-accent">Module 3: Configuration &rarr;</a>
</div>
