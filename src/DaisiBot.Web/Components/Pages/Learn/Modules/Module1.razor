@page "/learn/architecture"
@layout DaisiBot.Web.Components.Pages.Learn.LearnLayout

<h1 class="font-accent mb-4">Module 1 &middot; <span class="text-accent">Architecture &amp; Core Concepts</span></h1>

<div class="glass-card mb-4">
    <h4 class="font-accent">What Is DaisiBot?</h4>
    <p>
        DaisiBot is a multi-platform AI chatbot client for the <strong>DAISI</strong>
        (Decentralized AI System Infrastructure) network. It runs on your own hardware
        and connects to a decentralized mesh of inference hosts &mdash; or runs models
        entirely locally &mdash; so you never depend on a single cloud provider.
    </p>
    <p class="mb-0">
        It ships as three clients that share the same core:
    </p>
    <ul class="mt-2">
        <li><strong>TUI</strong> &ndash; A terminal interface with raw ANSI rendering, keyboard-driven navigation, and slash commands.</li>
        <li><strong>MAUI</strong> &ndash; A native desktop &amp; mobile app (Windows, macOS, iOS, Android) built with .NET MAUI and Blazor Hybrid.</li>
        <li><strong>Web</strong> &ndash; A Blazor Server application with the Skill Marketplace for browsing, publishing, and installing skills.</li>
    </ul>
</div>

<div class="glass-card mb-4">
    <h4 class="font-accent">The DAISI Network</h4>
    <p>
        The network has three roles. Understanding them is the single most important
        concept before you do anything else.
    </p>

    <div class="row g-3 mt-2">
        <div class="col-md-4">
            <div class="glass-card text-center h-100" style="border-color: rgba(247,140,29,0.3);">
                <h5 class="font-accent text-accent">Hosts</h5>
                <p class="text-muted mb-0">
                    Machines running GGUF language models locally.
                    They do the actual inference (thinking).
                    When your machine is idle, it can serve requests for others.
                </p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="glass-card text-center h-100" style="border-color: rgba(247,140,29,0.3);">
                <h5 class="font-accent text-accent">Orchestrators (ORCs)</h5>
                <p class="text-muted mb-0">
                    Central routing servers that match inference requests to the
                    best available host based on model, capacity, and latency.
                </p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="glass-card text-center h-100" style="border-color: rgba(247,140,29,0.3);">
                <h5 class="font-accent text-accent">Clients</h5>
                <p class="text-muted mb-0">
                    Applications that consume inference &mdash; like DaisiBot.
                    They send prompts and receive streamed responses via gRPC.
                </p>
            </div>
        </div>
    </div>
</div>

<div class="glass-card mb-4">
    <h4 class="font-accent">Brain + Hands Model</h4>
    <p>
        Think of DaisiBot as having two halves:
    </p>
    <table class="table table-dark table-bordered">
        <thead>
            <tr><th style="width:15%;">Part</th><th>What It Does</th><th>DaisiBot Equivalent</th></tr>
        </thead>
        <tbody>
            <tr>
                <td class="text-accent fw-bold">Brain</td>
                <td>Reasons, plans, and generates language.</td>
                <td>The inference model &mdash; either a local GGUF model (Host Mode) or a remote model on the DAISI network.</td>
            </tr>
            <tr>
                <td class="text-accent fw-bold">Hands</td>
                <td>Takes real actions on your system.</td>
                <td><strong>Tool Groups</strong> &mdash; eight categories of capabilities (files, code, math, media, etc.) the agent can invoke.</td>
            </tr>
        </tbody>
    </table>
    <p class="mb-0">
        The brain decides <em>what</em> to do; the hands decide <em>how</em> to do it.
        You control exactly which hands are enabled per conversation.
    </p>
</div>

<div class="glass-card mb-4">
    <h4 class="font-accent">Architecture Layers</h4>
    <p>The codebase is layered so every client shares the same logic:</p>
    <div class="code"><pre>
DaisiBot.Core        &larr; Domain models, interfaces, enums (zero dependencies)
DaisiBot.Data        &larr; SQLite persistence via EF Core
DaisiBot.Agent       &larr; DAISI SDK integration (gRPC, auth, streaming, bots)
DaisiBot.Shared.UI   &larr; Reusable Blazor / MudBlazor components
DaisiBot.Tui         &larr; Terminal client
DaisiBot.Maui        &larr; Native desktop / mobile client
DaisiBot.Web         &larr; Blazor Server + Skill Marketplace</pre></div>
    <p class="mt-3 mb-0">
        <strong>Core</strong> has no external dependencies &mdash; it defines the language (models, interfaces, enums)
        that every other layer speaks. <strong>Agent</strong> bridges the DAISI SDK via gRPC.
        <strong>Shared.UI</strong> provides the Blazor components reused by both MAUI and Web.
    </p>
</div>

<div class="glass-card mb-4">
    <h4 class="font-accent">Two Inference Modes</h4>
    <div class="row g-3 mt-1">
        <div class="col-md-6">
            <div class="glass-card h-100" style="border-color: rgba(76,175,80,0.4);">
                <h5 class="font-accent" style="color: #4caf50;">Host Mode (default)</h5>
                <ul class="text-muted mb-0">
                    <li>Downloads GGUF models to your machine</li>
                    <li>Runs inference locally via LLamaSharp</li>
                    <li>CPU, CUDA, or Vulkan acceleration</li>
                    <li>Your idle cycles can serve the network</li>
                </ul>
            </div>
        </div>
        <div class="col-md-6">
            <div class="glass-card h-100" style="border-color: rgba(33,150,243,0.4);">
                <h5 class="font-accent" style="color: #2196f3;">DaisiNet Mode</h5>
                <ul class="text-muted mb-0">
                    <li>Routes requests to the public ORC network</li>
                    <li>No local model download required</li>
                    <li>Access to models you can't run locally</li>
                    <li>Requires network connectivity</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="glass-card recall-checkpoint">
    <h4 class="font-accent">Active Recall Checkpoint</h4>
    <p>Cover the answers and test yourself before peeking.</p>

    <div class="recall-question">
        <p><strong>1.</strong> Name the three roles in the DAISI network.</p>
        <details><summary class="text-accent">Reveal answer</summary>
            <p class="mt-2">Hosts (run models), Orchestrators / ORCs (route requests), and Clients (consume inference).</p>
        </details>
    </div>

    <div class="recall-question">
        <p><strong>2.</strong> In the Brain + Hands model, what is the "Hands" equivalent in DaisiBot?</p>
        <details><summary class="text-accent">Reveal answer</summary>
            <p class="mt-2">Tool Groups &mdash; eight categories of agent capabilities you enable per conversation.</p>
        </details>
    </div>

    <div class="recall-question">
        <p><strong>3.</strong> What is the difference between Host Mode and DaisiNet Mode?</p>
        <details><summary class="text-accent">Reveal answer</summary>
            <p class="mt-2">Host Mode runs models locally on your hardware (default). DaisiNet Mode routes requests to remote hosts on the decentralized network.</p>
        </details>
    </div>

    <div class="recall-question">
        <p><strong>4.</strong> Which layer in the architecture has zero external dependencies?</p>
        <details><summary class="text-accent">Reveal answer</summary>
            <p class="mt-2">DaisiBot.Core &mdash; it defines domain models, interfaces, and enums with no outside packages.</p>
        </details>
    </div>
</div>

<div class="d-flex justify-content-between mt-4">
    <a href="/learn" class="btn btn-outline-light">&larr; Course Home</a>
    <a href="/learn/installation" class="btn btn-accent">Module 2: Installation &rarr;</a>
</div>
